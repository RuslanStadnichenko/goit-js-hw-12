{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function requestServer(query) {\n    const API_KEY = '43393189-93860efddddd16832e4d2b268';\n    const SERV_URL = 'https://pixabay.com/api/';\n\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: query,\n        orientation: 'horizontal',\n        image_type: 'photo',\n        safesearch: true,\n    });\n    return fetch(`${SERV_URL}?${params}`).then(result => {\n        if (!result.ok) {\n            throw new Error(result.status);\n        }\n        return result.json();\n    })\n};","export function createGallery(images) {\n    return images.map(image =>\n` <li class=\"gallery-item\">\n      <a class=\"gallery-link js-gallery-link\" href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\">\n      </a>\n      <div class=\"image-details\">\n        <ul class=\"details-title\">\n         <li class=\"details-title-det\">\n           <h3 class=\"title-info\">Likes:</h3>\n           <p class=\"paragraph-info\">${image.likes}</p>\n         </li>\n         <li class=\"details-title-det\">\n           <h3 class=\"title-info\">Views:</h3>\n           <p class=\"paragraph-info\">${image.views}</p>\n         </li>  \n         <li class=\"details-title-det\">\n           <h3 class=\"title-info\">Comments:</h3>\n           <p class=\"paragraph-info\">${image.comments}</p>\n         </li>  \n         <li class=\"details-title-det\">\n           <h3 class=\"title-info\">Downloads:</h3>\n           <p class=\"paragraph-info\">${image.downloads}</p>\n         </li>\n        </ul>\n      </div>\n    </li>`).join('');\n}","import iziToast from \"izitoast\"; \nimport \"izitoast/dist/css/iziToast.min.css\";  \nimport SimpleLightbox from \"simplelightbox\"; \nimport \"simplelightbox/dist/simple-lightbox.min.css\"; \nimport { requestServer } from './js/pixabay-api.js'; \nimport { createGallery } from './js/render-functions.js'; \n\nconst searchForm = document.querySelector('.js-search-form'); \nconst searchInput = document.querySelector('.js-search-input'); \nconst btnSearch = document.querySelector('.search-btn'); \nconst listGallery = document.querySelector('.gallery-list'); \nconst loader = document.querySelector('.loader');\n\nsearchForm.addEventListener('submit', (event) => { \n    event.preventDefault(); \n    if (searchInput.value.trim() === '') { \n        iziToast.error({ \n           message: 'Enter a search name', \n           position: 'topRight', \n        }); \n        listGallery.innerHTML = ''; \n        return; \n    } \n\n    loader.classList.add('is-visible'); // Show loader when search is loading\n\n    requestServer(searchInput.value)\n        .then(obj => { \n            if (!obj.hits.length) { \n                iziToast.error({ \n                    title: 'Error', \n                    message: 'Photo not found', \n                    position: 'topRight', \n                }); \n                return; \n            } \n            listGallery.innerHTML = createGallery(obj.hits); \n            libraryLightBox.refresh(); \n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n            loader.classList.remove('is-visible'); // Hide loader when search is done loading\n        });\n\n    searchInput.value = '';\n});\n\nlet libraryLightBox = new SimpleLightbox('.js-gallery-link', { \n    captionDelay: 250, \n    captionsData: 'alt', \n});\n\nlibraryLightBox.on('show.simplelightbox', event => { \n    event.preventDefault(); \n});"],"names":["requestServer","query","API_KEY","SERV_URL","params","result","createGallery","images","image","searchForm","searchInput","listGallery","loader","event","iziToast","obj","libraryLightBox","error","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAcC,EAAO,CACjC,MAAMC,EAAU,qCACVC,EAAW,2BAEXC,EAAS,IAAI,gBAAgB,CAC/B,IAAKF,EACL,EAAGD,EACH,YAAa,aACb,WAAY,QACZ,WAAY,EACpB,CAAK,EACD,OAAO,MAAM,GAAGE,CAAQ,IAAIC,CAAM,EAAE,EAAE,KAAKC,GAAU,CACjD,GAAI,CAACA,EAAO,GACR,MAAM,IAAI,MAAMA,EAAO,MAAM,EAEjC,OAAOA,EAAO,MACtB,CAAK,CACL,CCjBO,SAASC,EAAcC,EAAQ,CAClC,OAAOA,EAAO,IAAIC,GACtB;AAAA,sDACsDA,EAAM,aAAa;AAAA,oBACrDA,EAAM,YAAY,UAAUA,EAAM,IAAI,YAAYA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMzCA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,uCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,UAI5C,EAAE,KAAK,EAAE,CACnB,CCpBA,MAAMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAc,SAAS,cAAc,kBAAkB,EAC3C,SAAS,cAAc,aAAa,EACtD,MAAMC,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAW,iBAAiB,SAAWI,GAAU,CAE7C,GADAA,EAAM,eAAc,EAChBH,EAAY,MAAM,KAAI,IAAO,GAAI,CACjCI,EAAS,MAAM,CACZ,QAAS,sBACT,SAAU,UACrB,CAAS,EACDH,EAAY,UAAY,GACxB,MACH,CAEDC,EAAO,UAAU,IAAI,YAAY,EAEjCZ,EAAcU,EAAY,KAAK,EAC1B,KAAKK,GAAO,CACT,GAAI,CAACA,EAAI,KAAK,OAAQ,CAClBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,kBACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDH,EAAY,UAAYL,EAAcS,EAAI,IAAI,EAC9CC,EAAgB,QAAO,CACnC,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXL,EAAO,UAAU,OAAO,YAAY,CAChD,CAAS,EAELF,EAAY,MAAQ,EACxB,CAAC,EAED,IAAIM,EAAkB,IAAIE,EAAe,mBAAoB,CACzD,aAAc,IACd,aAAc,KAClB,CAAC,EAEDF,EAAgB,GAAG,sBAAuBH,GAAS,CAC/CA,EAAM,eAAc,CACxB,CAAC"}